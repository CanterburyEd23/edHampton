!function(){function State(template,easyButton){this.title=template.title,this.stateName=template.stateName?template.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=buildIcon(template.icon),this.onClick=L.Util.bind(template.onClick?template.onClick:function(){},easyButton)}function buildIcon(ambiguousIconString){var tmpIcon;return ambiguousIconString.match(/[&;=<>"']/)?tmpIcon=ambiguousIconString:(ambiguousIconString=ambiguousIconString.replace(/(^\s*|\s*$)/g,""),tmpIcon=L.DomUtil.create("span",""),0===ambiguousIconString.indexOf("fa-")?L.DomUtil.addClass(tmpIcon,"fa "+ambiguousIconString):0===ambiguousIconString.indexOf("glyphicon-")?L.DomUtil.addClass(tmpIcon,"glyphicon "+ambiguousIconString):L.DomUtil.addClass(tmpIcon,ambiguousIconString),tmpIcon=tmpIcon.outerHTML),tmpIcon}L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(buttons,options){options&&L.Util.setOptions(this,options),this._buildContainer(),this._buttons=[];for(var i=0;i<buttons.length;i++)buttons[i]._bar=this,buttons[i]._container=buttons[i].button,this._buttons.push(buttons[i]),this.container.appendChild(buttons[i].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(map){this._map=map;for(var i=0;i<this._buttons.length;i++)this._buttons[i]._map=map;var container=this._container=this.onAdd(map),pos=this.getPosition(),corner=map._controlCorners[pos];return L.DomUtil.addClass(container,"leaflet-control"),-1!==pos.indexOf("bottom")?corner.insertBefore(container,corner.firstChild):corner.appendChild(container),this}}),L.easyBar=function(){for(var args=[L.Control.EasyBar],i=0;i<arguments.length;i++)args.push(arguments[i]);return new(Function.prototype.bind.apply(L.Control.EasyBar,args))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(icon,onClick,title,id){this.options.states=[],null!=id&&(this.options.id=id),this.storage={},"object"==typeof arguments[arguments.length-1]&&L.Util.setOptions(this,arguments[arguments.length-1]),0===this.options.states.length&&"string"==typeof icon&&"function"==typeof onClick&&this.options.states.push({icon:icon,onClick:onClick,title:"string"==typeof title?title:""}),this._states=[];for(var i=0;i<this.options.states.length;i++)this._states.push(new State(this.options.states[i],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),"button"===this.options.tagName&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",(function(e){L.DomEvent.stop(e),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()}),this),"replace"==this.options.type)this.button.appendChild(this._currentState.icon);else for(var i=0;i<this._states.length;i++)this.button.appendChild(this._states[i].icon)},_currentState:{stateName:"unnamed",icon:document.createElement("span")},_states:null,state:function(newState){return 0===arguments.length?this._currentState.stateName:("string"==typeof newState?this._activateStateNamed(newState):"number"==typeof newState&&this._activateState(this._states[newState]),this)},_activateStateNamed:function(stateName){for(var i=0;i<this._states.length;i++)this._states[i].stateName==stateName&&this._activateState(this._states[i])},_activateState:function(newState){if(newState!==this._currentState){"replace"==this.options.type&&(this.button.appendChild(newState.icon),this.button.removeChild(this._currentState.icon)),newState.title?this.button.title=newState.title:this.button.removeAttribute("title");for(var i=0;i<this._states.length;i++)L.DomUtil.removeClass(this._states[i].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[i].icon,newState.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,newState.stateName+"-active"),this._currentState=newState}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(map){var bar=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=bar,this._container=bar.container,this._anonymousBar.container},removeFrom:function(map){return this._map===map&&this.remove(),this}}),L.easyButton=function(){var args=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,args))}}();